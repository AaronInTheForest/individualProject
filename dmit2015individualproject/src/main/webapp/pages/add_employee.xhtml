<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
      lang="en">
  <h:head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />	
    <meta name="description" content="description"/>
    <meta name="keywords" content="keywords" />
    <title>Add Employee</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css"  />
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
		
	<ui:insert name="externalstyles" />
	
	<ui:insert name="internalstyles">
		<style>	
			.ui-widget {
				font-size: 80%;
			}
		</style>	
	</ui:insert>
	
  </h:head>
  <h:body>
	<h:outputStylesheet library="css" name="layout.css" />
  	<h:outputStylesheet library="css" name="global.css" />
  	
  	<div id="header-container">
  		<header id="header">
  			<h1>Add Employee</h1>
  			<h:form>
	  			<p:megaMenu>
	  				<p:menuitem value="Home" url="/pages/home.xhtml" icon="ui-icon-home" />
	  				<p:menuitem value="Regions" url="/pages/view_regions.xhtml" icon="ui-icon-document" />
	  				<p:menuitem value="Countries" url="/pages/view_countries.xhtml" icon="ui-icon-document" />
	  				<p:menuitem value="Locations" url="/pages/view_locations.xhtml" icon="ui-icon-document" />
	  				<p:menuitem value="Departments" url="/pages/view_departments.xhtml" icon="ui-icon-document" />
	  				<p:menuitem value="Employees" url="/pages/view_employees.xhtml" icon="ui-icon-document" />
	  				<p:menuitem value="Jobs" url="/pages/view_jobs.xhtml" icon="ui-icon-document" />
	  				<p:menuitem value="Job Histories" url="/pages/view_job_histories.xhtml" icon="ui-icon-document" />
				</p:megaMenu>
			</h:form>
  		</header>	
  	<!-- end #header-container -->	
  	</div>

  	<div id="content-container">
  		<div id="content" >
			<ui:insert name="content">
			<!-- ADD EMPLOYEE FORM ELEMENTS BEGIN
			Implement the feature to add a new employee to the system. (5 marks)
			To add a new employee the user must be authenticated and have the job title "Human Resource Representative". 
			Add business validation logic to verify that the salary of the employee is between the minimum and maximum range for the job title.
			
			employee_id, first_name, last_name, email, phone_number, hire_date, job_id, salary, commision_pct, manager_id, department_id
			 -->
			<h:form id="new_employee_form">
					<p:messages id="messages" />
					<div class="form-group">
						<p:outputLabel for="hire_date">Hire Date:</p:outputLabel>
						<p:calendar id="hire_date"
							styleClass="form-control" 
							value="#{employeeBean.currentEmployee.hireDate}"
							/><!--   -->
					</div>
					<!-- TEXT BOXES -->
					<div class="form-group">
						<p:outputLabel for="first_name">First Name:</p:outputLabel>
						<p:inputTextarea id="first_name"
							styleClass="form-control"
							value="#{employeeBean.currentEmployee.firstName}"
							></p:inputTextarea><!--   -->
					</div>
					<div class="form-group">
						<p:outputLabel for="last_name">Last Name:</p:outputLabel>
						<p:inputTextarea id="last_name"
							styleClass="form-control"
							value="#{employeeBean.currentEmployee.lastName}"></p:inputTextarea><!-- value=""  -->
					</div>
					<div class="form-group">
						<p:outputLabel for="email">Email:</p:outputLabel>
						<p:inputTextarea id="email"
							styleClass="form-control"
							value="#{employeeBean.currentEmployee.email}"></p:inputTextarea><!-- value=""  -->
					</div>
					<div class="form-group">
						<p:outputLabel for="phone">Phone:</p:outputLabel>
						<p:inputTextarea id="phone"
							styleClass="form-control"
							value="#{employeeBean.currentEmployee.phoneNumber}"></p:inputTextarea><!-- value=""  -->
					</div>
					<div class="form-group">
						<p:outputLabel for="salary">Salary:</p:outputLabel>
						<p:inputTextarea id="salary"
							styleClass="form-control"
							value="#{employeeBean.currentEmployee.salary}"></p:inputTextarea><!-- value=""  -->
					</div>
					<div class="form-group">
						<p:outputLabel for="commission">Commission (%):</p:outputLabel>
						<p:inputTextarea id="commission"
							styleClass="form-control"
							value="#{employeeBean.currentEmployee.commissionPercentage}"></p:inputTextarea><!-- value=""  -->
					</div>
					<!-- DROP DOWN LISTS -->
					<div class="form-group">
						<p:outputLabel for = "job_id" value = "Job Title"/>
						<p:selectOneMenu id = "job_id"
						value="#{employeeBean.selectedJobId}"><!-- value=""  -->
							<f:selectItems value="#{employeeBean.jobOptions}"/>
						</p:selectOneMenu>
					</div>
					<div class="form-group">
						<p:outputLabel for = "manager_id" value = "Manager"/>
						<p:selectOneMenu id = "manager_id"
						value="#{employeeBean.selectedManagerId}"><!-- value=""  -->
							<f:selectItems value="#{employeeBean.managerOptions}"/>
						</p:selectOneMenu>
					</div>
					<div class="form-group">
						<p:outputLabel for = "department_id" value = "Department"/>
						<p:selectOneMenu id = "department_id"
						value="#{employeeBean.selectedDepartmentId}"><!-- value=""  -->
							<f:selectItems value="#{employeeBean.departmentOptions}"/>
						</p:selectOneMenu>
					</div>
					<!-- BUTTONS -->
					<p:commandButton value="Add Employee" 
						icon="ui-icon-disk"
						styleClass="btn btn-default"
						actionListener="#{employeeBean.addEmployee}" 
						ajax="false"/><!-- , update="", oncomplete="" -->
			</h:form>
			</ui:insert>
  		<!-- end #content -->	
  		</div>
    <!-- end #content-container -->    
  	</div>
 	<div id="footer-container">
 		<footer id="footer" >
 			DMIT2015 Individual Project by Aaron Champagne
 		</footer>	
 	<!-- end #footer-container -->	
 	</div>
	
  </h:body>
</html>

