<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" lang="en">
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="description" content="description" />
	<meta name="keywords" content="keywords" />
	<title>Regions</title>
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css" />
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

	<ui:insert name="externalstyles" />

	<ui:insert name="internalstyles">
		<style>
.ui-widget {
	font-size: 80%;
}
</style>
	</ui:insert>

</h:head>
<h:body>
	<h:outputStylesheet library="css" name="layout.css" />
	<h:outputStylesheet library="css" name="global.css" />

	<div id="header-container">
		<header id="header">
			<h1>Regions</h1>
			<h:form>
				<p:megaMenu>
					<p:menuitem value="Home" url="/pages/home.xhtml"
						icon="ui-icon-home" />
					<p:menuitem value="Regions" url="/pages/view_regions.xhtml"
						icon="ui-icon-document" />
					<p:menuitem value="Countries" url="/pages/view_countries.xhtml"
						icon="ui-icon-document" />
					<p:menuitem value="Locations" url="/pages/view_locations.xhtml"
						icon="ui-icon-document" />
					<p:menuitem value="Departments" url="/pages/view_departments.xhtml"
						icon="ui-icon-document" />
					<p:menuitem value="Employees" url="/pages/view_employees.xhtml"
						icon="ui-icon-document" />
					<p:menuitem value="Jobs" url="/pages/view_jobs.xhtml"
						icon="ui-icon-document" />
					<p:menuitem value="Job Histories"
						url="/pages/view_job_histories.xhtml" icon="ui-icon-document" />
				</p:megaMenu>
			</h:form>
		</header>
		<!-- end #header-container -->
	</div>

	<div id="content-container">
		<div id="content">
			<ui:insert name="content">
				<h1>Regions</h1>
				<h:form id="form">
					<p:dataTable id="region_table" var = "region" value = "#{RegionTableController.regions}" rendered = "#{RegionTableController.regions != null}">
						<p:column headerText = "Region ID">
							<h:outputText value = "#{region.id}"/>
						</p:column>
						<p:column headerText = "Region Name">
							<h:outputText value = "#{region.name}"/>
						</p:column>
						<p:column>
							<p:commandButton value = "View Countries"
								actionListener="#{RegionTableController.viewCountries(region)}"
								update = ":form:region_table, :form:country_table"></p:commandButton>
						</p:column>
					</p:dataTable>
					
					<p:dataTable id="country_table" var = "country" value = "#{RegionTableController.countries}" rendered = "#{RegionTableController.countries != null}">
						<p:column headerText = "Country ID">
							<h:outputText value = "#{country.id}"/>
						</p:column>
						<p:column headerText = "Country Name">
							<h:outputText value = "#{country.name}"/>
						</p:column>
						<p:column headerText = "Region">
							<h:outputText value = "#{country.region}"/>
						</p:column>
						<p:column>
							<p:commandButton value = "View Locations"
								actionListener="#{RegionTableController.viewLocations(country)}"
								update = ":form:country_table, :form:location_table"></p:commandButton>
						</p:column>
					</p:dataTable>
						
					<p:dataTable id="location_table" var = "location" value = "#{RegionTableController.locations}" rendered = "#{RegionTableController.locations != null}">
						<p:column headerText = "Location ID">
							<h:outputText value = "#{location.id}"/>
						</p:column>
						<p:column headerText = "Street Address">
							<h:outputText value = "#{location.streetAddress}"/>
						</p:column>
						<p:column headerText = "Postal Code">
							<h:outputText value = "#{location.postalCode}"/>
						</p:column>
						<p:column headerText = "City">
							<h:outputText value = "#{location.city}"/>
						</p:column>
						<p:column headerText = "State/Province">
							<h:outputText value = "#{location.stateProvince}"/>
						</p:column>
						<p:column headerText = "Country">
							<h:outputText value = "#{location.country}"/>
						</p:column>
						<p:column>
							<p:commandButton value = "View Locations"
								actionListener="#{RegionTableController.viewDepartments(location)}"
								update = ":form:location_table, :form:department_table"></p:commandButton>
						</p:column>
					</p:dataTable>
					
					<p:dataTable id="department_table" var = "department" value = "#{RegionTableController.departments}" rendered = "#{RegionTableController.departments != null}">
						<p:column headerText = "Department Name">
							<h:outputText value = "#{department.name}"/>
						</p:column>
						<p:column headerText = "Manager">
							<h:outputText value = "#{department.manager.name}"/>
						</p:column>
						<p:column headerText = "Location">
							<h:outputText value = "#{department.location.city}, #{department.location.stateProvince}, #{department.location.country}"/>
						</p:column>
						<p:column>
							<p:commandButton value = "View Locations"
								actionListener="#{RegionTableController.viewEmployees(department)}"
								update = ":form:department_table, :form:employee_table"></p:commandButton>
						</p:column>
					</p:dataTable>
					
					<p:dataTable id="employee_table" var = "employee" value = "#{RegionTableController.employees}" rendered = "#{RegionTableController.employees != null}">
						<p:column headerText = "First Name">
							<h:outputText value = "#{employee.firstName}"/>
						</p:column>
						<p:column headerText = "Last Name">
							<h:outputText value = "#{employee.lastName}"/>
						</p:column>
						<p:column headerText = "Email">
							<h:outputText value = "#{employee.email}"/>
						</p:column>
						<p:column headerText = "Phone Number">
							<h:outputText value = "#{employee.phoneNumber}"/>
						</p:column>
						<p:column headerText = "Job Title">
							<h:outputText value = "#{employee.employeeJob.title}"/>
						</p:column>
						<p:column headerText = "Manager">
							<h:outputText value = "#{employee.employeeManager.lastName}, #{employee.employeeManager.firstName}"/>
						</p:column>
						<p:column headerText = "Department">
							<h:outputText value = "#{employee.employeeDepartment.name}"/>
						</p:column>
					</p:dataTable>
				</h:form>
			</ui:insert>
			<!-- end #content -->
		</div>
		<!-- end #content-container -->
	</div>
	<div id="footer-container">
		<footer id="footer"> DMIT2015 Individual Project by Aaron Champagne </footer>
		<!-- end #footer-container -->
	</div>

</h:body>
</html>

